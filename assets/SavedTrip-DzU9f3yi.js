import{d as oe,r as i,e as y,j as t,P as h,f as x,g as j,S as ae,h as ne,i as se,k as C,m as D,X as re,u as ie,n as le,o as ce,p as de,B as b,q as ue,s as ge,t as fe}from"./index-DNiQmp5B.js";import{R as pe,h as me,u as xe,F as he,D as De,P as ve,M as Ne}from"./index-DNuHytCn.js";var R="Dialog",[P,We]=oe(R),[Ce,u]=P(R),T=e=>{const{__scopeDialog:o,children:a,open:r,defaultOpen:n,onOpenChange:s,modal:l=!0}=e,c=i.useRef(null),g=i.useRef(null),[f=!1,m]=se({prop:r,defaultProp:n,onChange:s});return t.jsx(Ce,{scope:o,triggerRef:c,contentRef:g,contentId:C(),titleId:C(),descriptionId:C(),open:f,onOpenChange:m,onOpenToggle:i.useCallback(()=>m(d=>!d),[m]),modal:l,children:a})};T.displayName=R;var I="DialogTrigger",O=i.forwardRef((e,o)=>{const{__scopeDialog:a,...r}=e,n=u(I,a),s=y(o,n.triggerRef);return t.jsx(h.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":w(n.open),...r,ref:s,onClick:x(e.onClick,n.onOpenToggle)})});O.displayName=I;var _="DialogPortal",[ye,A]=P(_,{forceMount:void 0}),S=e=>{const{__scopeDialog:o,forceMount:a,children:r,container:n}=e,s=u(_,o);return t.jsx(ye,{scope:o,forceMount:a,children:i.Children.map(r,l=>t.jsx(j,{present:a||s.open,children:t.jsx(ve,{asChild:!0,container:n,children:l})}))})};S.displayName=_;var v="DialogOverlay",M=i.forwardRef((e,o)=>{const a=A(v,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,s=u(v,e.__scopeDialog);return s.modal?t.jsx(j,{present:r||s.open,children:t.jsx(je,{...n,ref:o})}):null});M.displayName=v;var je=i.forwardRef((e,o)=>{const{__scopeDialog:a,...r}=e,n=u(v,a);return t.jsx(pe,{as:ae,allowPinchZoom:!0,shards:[n.contentRef],children:t.jsx(h.div,{"data-state":w(n.open),...r,ref:o,style:{pointerEvents:"auto",...r.style}})})}),p="DialogContent",k=i.forwardRef((e,o)=>{const a=A(p,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,s=u(p,e.__scopeDialog);return t.jsx(j,{present:r||s.open,children:s.modal?t.jsx(Re,{...n,ref:o}):t.jsx(_e,{...n,ref:o})})});k.displayName=p;var Re=i.forwardRef((e,o)=>{const a=u(p,e.__scopeDialog),r=i.useRef(null),n=y(o,a.contentRef,r);return i.useEffect(()=>{const s=r.current;if(s)return me(s)},[]),t.jsx(F,{...e,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:x(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=a.triggerRef.current)==null||l.focus()}),onPointerDownOutside:x(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&s.preventDefault()}),onFocusOutside:x(e.onFocusOutside,s=>s.preventDefault())})}),_e=i.forwardRef((e,o)=>{const a=u(p,e.__scopeDialog),r=i.useRef(!1),n=i.useRef(!1);return t.jsx(F,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(r.current||(c=a.triggerRef.current)==null||c.focus(),s.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:s=>{var g,f;(g=e.onInteractOutside)==null||g.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const l=s.target;((f=a.triggerRef.current)==null?void 0:f.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),F=i.forwardRef((e,o)=>{const{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:s,...l}=e,c=u(p,a),g=i.useRef(null),f=y(o,g);return xe(),t.jsxs(t.Fragment,{children:[t.jsx(he,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:s,children:t.jsx(De,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":w(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Ee,{titleId:c.titleId}),t.jsx(be,{contentRef:g,descriptionId:c.descriptionId})]})]})}),E="DialogTitle",$=i.forwardRef((e,o)=>{const{__scopeDialog:a,...r}=e,n=u(E,a);return t.jsx(h.h2,{id:n.titleId,...r,ref:o})});$.displayName=E;var W="DialogDescription",L=i.forwardRef((e,o)=>{const{__scopeDialog:a,...r}=e,n=u(W,a);return t.jsx(h.p,{id:n.descriptionId,...r,ref:o})});L.displayName=W;var G="DialogClose",B=i.forwardRef((e,o)=>{const{__scopeDialog:a,...r}=e,n=u(G,a);return t.jsx(h.button,{type:"button",...r,ref:o,onClick:x(e.onClick,()=>n.onOpenChange(!1))})});B.displayName=G;function w(e){return e?"open":"closed"}var z="DialogTitleWarning",[Le,H]=ne(z,{contentName:p,titleName:E,docsSlug:"dialog"}),Ee=({titleId:e})=>{const o=H(z),a=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},we="DialogDescriptionWarning",be=({contentRef:e,descriptionId:o})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${H(we).contentName}}.`;return i.useEffect(()=>{var s;const n=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");o&&n&&(document.getElementById(o)||console.warn(r))},[r,e,o]),null},Pe=T,Te=O,Ie=S,V=M,q=k,U=$,K=L,Oe=B;const Ae=Pe,Se=Te,Me=Ie,X=i.forwardRef(({className:e,...o},a)=>t.jsx(V,{ref:a,className:D("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...o}));X.displayName=V.displayName;const Y=i.forwardRef(({className:e,children:o,...a},r)=>t.jsxs(Me,{children:[t.jsx(X,{}),t.jsxs(q,{ref:r,className:D("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[o,t.jsxs(Oe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(re,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Y.displayName=q.displayName;const Z=({className:e,...o})=>t.jsx("div",{className:D("flex flex-col space-y-1.5 text-center sm:text-left",e),...o});Z.displayName="DialogHeader";const J=i.forwardRef(({className:e,...o},a)=>t.jsx(U,{ref:a,className:D("text-lg font-semibold leading-none tracking-tight",e),...o}));J.displayName=U.displayName;const ke=i.forwardRef(({className:e,...o},a)=>t.jsx(K,{ref:a,className:D("text-sm text-muted-foreground",e),...o}));ke.displayName=K.displayName;function Ge(){const[e,o]=i.useState(!0),[a,r]=i.useState([]),[n,s]=i.useState(null),[l,c]=i.useState(!1),g=ie(),f=async()=>{try{await fe()?o(!1):g("/login")}catch(d){console.error("Error while checking logged-in user at searchPage:",d)}};i.useEffect(()=>{(async()=>{if(await f(),!e){const N=await ue();r(N||[])}})()},[e]);const m=async d=>{c(!0);const{success:N,message:Q,error:ee}=await ge(d);N?(console.log("Success:",Q),r(a.filter(te=>te.id!==d))):console.error("Error occurred while deleting:",ee),c(!1)};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Saved Trip Data"}),a.length===0?t.jsx("p",{className:"text-center",children:"No trips found."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(d=>t.jsxs(le,{className:"w-full",children:[t.jsxs(ce,{className:"p-4",children:[t.jsx("h2",{className:"text-xl font-semibold mb-2",children:d.trip_name}),t.jsx("p",{className:"text-gray-600 truncate",children:d.trip_data})]}),t.jsxs(de,{className:"flex justify-between p-4",children:[t.jsxs(Ae,{children:[t.jsx(Se,{asChild:!0,children:t.jsx(b,{variant:"outline",onClick:()=>s(d),children:"View"})}),t.jsxs(Y,{className:"sm:max-w-[425px]",children:[t.jsx(Z,{children:t.jsx(J,{children:n==null?void 0:n.trip_name})}),t.jsx("div",{className:"mt-4 h-64 lg:h-80 overflow-y-auto mx-auto",children:t.jsx(Ne,{className:"w-full",children:n==null?void 0:n.trip_data})})]})]}),t.jsx(b,{variant:"destructive",onClick:()=>m(d.id),children:"Delete"})]})]},d.id))})]})}export{Ge as default};
